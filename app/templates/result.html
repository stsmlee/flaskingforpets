{%extends 'base.html'%}

<title>{%block title%}Results{% endblock %}</title>

{%block content%}
<h1>{{pag['Total number of results']}} Results!</h1>
    {% for pet in res %}
    <p>
        {% for key, value in pet.items() %}
            {% if key == 'Petfinder Profile Link' %}
                <b>{{key}}:</b> <a href="{{value}}">{{pet['Name']}}'s Profile</a><br/>

            {% elif key == 'Photos' %}
        </p>
            <div class = 'flex_pics_container'>
                
                {% for pic in value %}
                <img src="{{pic}}" alt="photo of {{pet['Name']}}" class = "flex_pics">
                {% endfor %}

            </div>
        <p>
            {% else %}
                <b>{{key}}:</b> {{value}}<br/>
            {% endif %}          
        {% endfor %}
        {% if res.index(pet) != res|length-1 %}
        <hr class="results_hr">
        {% endif %}  
    </p>
    {% endfor %}

<hr class = "pagination_hr">

<p style="text-align:center;">
    Results per page: {{pag['Results per page']}}<br/>
    Total number of results: {{pag['Total number of results']}}<br/>
    Currently on page {{pag['Current page']}} of {{pag['Total pages']}}<br/>
</p>

<nav class = 'page'>
    {% if pag['Previous'] %}
        <form method="GET" action="{{url_for('search', type=type, payload= payload, page = pag['Current page']-1)}}" style = "display:inline">
            <input type="submit" value="Previous" class = 'page_button'>
        </form>
    {% endif %}

    {% if pag['Next'] %}
        <form method="GET" action="{{url_for('search', type=type, payload= payload, page = pag['Current page']+1)}}" style ="display:inline">
            <input type="submit" value="Next" class = 'page_button'>
        </form>
    {% endif %}
</nav>


{%endblock%}
