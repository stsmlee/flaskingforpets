{%extends 'base.html'%}

<title>{%block title%}Results{% endblock %}</title>

{%block content%}
<h1>{{pag['Total number of results']}} Results!</h1>
    {% for pet in res %}
    <p>
        {% for key, value in pet.items() %}
            {% if key == 'Petfinder Profile Link' %}
                <b>{{key}} :</b> <a href="{{value}}">{{pet['Name']}}'s Profile</a><br/>

            {% elif key == 'Photos' %}
        </p>
            <div class = 'flex_pics'>
                {% for pic in value %}
                <img src="{{pic}}" alt="photo of {{pet['Name']}}" class = "flex_pics">
                {% endfor %}
            </div>
        <p>
            {% else %}
                <b>{{key}}:</b> {{value}}<br/>
            {% endif %}          
        {% endfor %}
        {% if res.index(pet) != res|length-1 %}
        <hr class="results_hr">
        {% endif %}  
    </p>
    {% endfor %}

<hr class = "pagination_hr">

<p style="text-align:center;">
    Results per page: {{pag['Results per page']}}<br/>
    Total number of results: {{pag['Total number of results']}}<br/>
    Currently on page {{pag['Current page']}} of {{pag['Total pages']}}<br/>
</p>
<nav style="text-align:center;margin-top:15px;margin-bottom: 15px;">
    {% if pag['Previous'] %}
    <a href="{{url_for('search', type=type, payload= payload, page = pag['Current page']-1)}}" class="page_links">Previous Page</a>
    {% endif %}
    {% if pag['Next'] %}
    <a href="{{url_for('search', type=type, payload= payload, page = pag['Current page']+1)}}" class="page_links">Next Page</a>
    {% endif %}
</nav>

{%endblock%}
